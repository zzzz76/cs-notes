## 7.2 二叉查找树

### 目录

1. 知识框架
2. 二叉查找树的概念
3. 二叉查找树的操作
4. 二叉查找树的应用



### 知识框架

| 数据结构   | 存储结构 | 操作实现                                   | 应用       |
| ---------- | -------- | ------------------------------------------ | ---------- |
| 二叉查找树 | 链式存储 | search<br />insert<br />create<br />delete | 平衡二叉树 |



### 二叉查找树的概念

二叉查找树或为空，或者由一个根结点和两个互不相交的、分别称为左子树和右子树的二叉查找树构成，其中左子树上所有结点的数据域均小于根结点的数据域，右子树上所有结点的数据域均大于根结点的数据域。

链式存储结构：

```java
class Node {
    int data;
    Node left;
    Node right;
}
```



### 二叉查找树的操作

* 查找

```java
/**
 * 查找二叉查找树中数据域为x的结点
 * 如果x较大，则往右子树找
 * 如果x较小，则往左子树找
 */
public static Node search(Node root, int x) {
    if (root == null) {
        return null;
    }
    if (x == root.data) {
        return root;
    } else if (x > root.data) {
        return search(root.right, x);
    } else {
        return search(root.left, x);
    }
}
```

* 插入

```java
/**
 * 在二叉查找树中插入一个数据域为x的新结点
 * 如果根结点为空，直接返回新结点
 * 如果根结点较小，则往右子树插入
 * 如果根结点较大，则往左子树插入
 * 
 * @param root 以root为根结点的二叉查找树
 * @param x 待插入的权值
 * @return 更新后二叉查找树的根结点
 */
public static Node insert(Node root, int x) {
    if (root == null) {
        return new Node(x);
    }
    
    if (root.data < x) {
        root.right = insert(root.right, x);
    } else {
        root.left = insert(root.left, x);
    }
    return root;
}
```

* 创建

```java
/**
 * 二叉查找树的建立
 */
public static Node create(int[] data, int n) {
    Node root = null;
    for (int i = 0; i < n; i++) {
        root = insert(root, data[i]);
    }
    return root;
}
```

* 删除

```java
/**
 * 删除以root为根结点的树中权值为x的结点，之后仍然是二叉查找树
 * 
 * 如果根结点为空，说明不存在给定权值x的结点，直接返回
 * x与根结点进行比较，如果x等于根结点，则开始删除操作
 *  若当前结点不存在左右孩子，直接删除
 *  若当前结点存在左孩子，则用前驱结点替换当前结点，在左子树中删除权值为前驱结点的结点
 *  若当前结点存在右孩子，则用后驱结点替换当前结点，在右子树中删除权值为后驱结点的结点
 * 如果x大于根结点，则在右子树中删除权值为x的结点
 * 如果x小于根结点，则在左子树中删除权值为x的结点
 */
public static Node delete(Node root, int x) {
    if (root == null) return null;
    if (x == root.data) {
        //开始删除操作
        if (root.left != null) {
            root.data = findMax(root.left).data;
            root.left = delete(root.left, root.data);
        } else if (root.right != null) {
            root.data = findMin(root.right).data;
            root.left = delete(root.left, root.data);
        } else {
            return null;
        }
    } else if (x > root.data) {
        root.right = delete(root.right, x);
    } else {
        root.left = delete(root.left, x);
    }
    return root;
}

//寻找以root为根结点的查找树中权值最大结点
private static Node findMax(Node node) {
    while (node.right != null) {
        node = node.right;
    }
    return node;
}

//寻找以root为根结点的查找树中权值最小的结点
private static Node findMin(Node node) {
    while (node.left != null) {
        node = node.left;
    }
    return node;
}
```



### PAT A1043

**题意：**

给出N个正整数作为二叉查找树的插入序列，并构造出二叉查找树和其镜像树，问：该插入序列是否是构造出的二叉查找树或其镜像树的先序遍历序列，如果是则输出相应的后序遍历序列。

**思路：**

* 构造二叉查找树和镜像树
* 求先序遍历序列
* 求后序遍历序列

**代码：**

```java


```


# 算法思路

QoS prediction：Baseline based matrix factorization to address  transmission loss

## Introduction

// 总览

## Background

### Motivation

// todo 举例子 

// 描述具体问题

// 为什么一般的矩阵分解方法不行

### 基准预测模型

CF模型试图捕捉用户和物品之间的交互作用，正是这些交互作用产生了不同的评分值。然而，实际上大部分观察到的评分值要么和用户相关，要么和物品相关，而与用户和物品之间的交互作用无关。比如，典型的CF数据显示了用户和物品中存在的偏置，即某些用户给出更高的评分和某些物品比其他物品得到更高评分的总体趋势。

我们将这些与用户-物品交互作用无关的因子称为偏置，并把偏置封装到基准预测中。由于这些基准预测值在观察到的评分中占很大比例，因此对他们进行准确的建模就显得至关重要。这样的建模方法把真正代表用户-物品之间作用的那部分数据隔离开来，而把这部分数据放到更适合用户偏好的模型中，比如，将基准预测与矩阵分解结合的预测模型。

// 用户偏置 和 商品偏置的 详解

* 应用场景

  ![image-20211223235548093](image-20211223235548093.png)

* 预测的评分：设$\overline{r}$ 为全局平均分，参数 $b_u$ 和参数 $b_i$ 分别表示用户$u$ 和物品 $i$ 与评分均值的误差，未知评分 $\hat{r_{ui}}$ 的基准预测 $b_{ui}$ 综合考虑了用户偏置和物品偏置。
  $$
  \hat{r}_{ui} = b_{ui} = \overline{r} + b_u + b_i
  $$
  
* 



### 矩阵分解预测模型

tranmission loss







## Baseline based matrix factorization



### 基准预测

服务预测与单纯的商品预测是不同的，在服务预测中，不同区域间的相互通信会很大程度上影响用户的评分。比如，相同的服务部署在不同的国家，给用户带来的体验是完全不同的，即传统的基准预测模型无法直接使用于服务预测中。为此我们提出了改进的基准预测模型。

在改进的基准预测模型中，我们全方位的考虑了与用户-物品交互作用无关的因子。除了之前提到的的用户偏置和服务偏置，我们还将考虑不同区域间相互通信所带来的影响，即区域偏置。

与用户偏置和服务偏置有所不同，通信偏置是基于两两区域之间的，也就是说每一对区域之间都存在这样的偏置。为了便于在公式中进行表示，我们对每两个区域间的全部通信时间进行平均处理，然后结合用户和目标服务各自的偏置，即可得到服务预测中的基准预测值。

// 区域偏置 详解

* 应用场景

  ![image-20211223235959348](image-20211223235959348.png)

* 构建区域评分表：对区域 $x$ 的所有用户对区域 $y$ 的所有服务的调用评分，以及区域 $y$ 的所有用户对区域 $x$ 的所有服务的调用评分，取它们的均值作为区域间的响应评分。
  $$
  d_{x, y} = \frac{1}{2M}\sum_{i\in x}\sum_{j\in y}r_{i,j} + \frac{1}{2N}\sum_{i\in y}\sum_{j\in x}r_{i,j}
  $$
  
* 预测的评分：设 $x$ 为 用户 $u$ 所在区域，$y$ 为服务 $v$ 所在区域，区域间的响应评分为 $d_{xy}$，参数 $b_u$ 和参数 $b_i$ 分别表示用户$u$ 和物品 $i$ 与评分均值的误差，未知评分 $\hat{r_{ui}}$ 的基准预测 $b_{ui}$ 综合考虑了用户偏置和物品偏置以及区域偏置。
  $$
  \hat{r}_{uv} = b_{uv} = d_{x, y} + b_u + b_v
  $$
  
* 



### 邻域选择

a) 用户邻域选择

b) 服务邻域选择





### Baseline based matrix factorization

改进的基准预测模型能够对与用户-物品交互无关的因子进行准确的预测，由于这些基准预测值在观察到的评分中占很大比例，因此对他们进行准确的建模就显得至关重要。这样的建模方法把真正代表用户-物品之间作用的那部分数据隔离开来，而把这部分数据放到更适合用户偏好的模型中，比如，将基准预测与矩阵分解结合的预测模型。于是我们提出了如下的BiasSVD预测模型



之后我们基于改进的基准预测模型，结合矩阵分解模型提出了改进的BiasSVD预测模型，基准模型用来屏蔽用户偏置和服务偏置，同时屏蔽了区域间的相互通信所带来的影响，矩阵分解部分用来预测理想状态下的用户偏好

* 应用场景



* 预测的评分
  $$
  \begin{split}
  \hat {r}_{ui} &=b_{ui} +\vec {p_{u}}\cdot \vec {q_{i}} &=\mu + b_u + b_i +{\sum_{k=1}}^k p_{uk}q_{ik}
  \end{split}
  $$



### 预测



## Experimental



## Related work



## Conclusion and future work


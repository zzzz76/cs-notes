大家好，我的论文题目是，基于网络偏置和矩阵分解的服务质量预测方法。这片文章属于服务计算领域，文章提出了一种预测服务质量的方法。我是这片文章的主讲人钟文浩

Hello everyone, The title of my paper is "Collaborative web service quality prediction via network biased matrix factorization", my paper deals with the field of service computing, and it proposes a new method to predict service quality.



首先，我来介绍一下这篇论文的背景。随着互联网的迅速发展，网络中存在着大量功能相同或相似的Web服务，为了从中选择合适的服务，用户需要依据一些非功能属性的指标，比如，响应时间、吞吐量、故障率、可靠性等，这些指标通常被称为服务质量。如果我们能够获得所有服务的服务质量，那么用户就可以方便的进行服务的选择了

First, Let me introduce the background of this paper. With the rapid development of the Internet, there are a large number of Web services with the same functions in the network, in order to select the right service from them, users need to rely on some non-functional attributes, such as, response time, throughput, failure probability, reliability, etc., which are usually defined as the service quality. If we can get all the service quality, then the user can easily make service selection.



然而获取服务质量并不是一件容易的事情，其中存在的挑战主要有三点：1. 每一个用户观察到的服务质量都是个性化的，也就是说每个服务的服务质量是根据他的调用着而变化的，2. 通过一个个调用的方式来获得服务质量，话费的时间成本和资源成本非常的高，因为服务的数量是非常庞大的3.有一些服务的质量难以评估，少量的调用无法计算出真实的服务质量。所以如果能够通过预测的方式来获取服务质量，那么以上问题就可以得到解决。

However, it is not easy to get all the service quality, there are three main challenges: first, different users observe different quality for the same service; second, it is time-consuming and resource-consuming to access all service quality by invoking them one by one; third, some quality are difficult to evaluate and can only be calculated with a large number of invocations. If we can get the service quality by prediction, then the above challenges can be solved.



QoS预测的一般过程如下，我们把用户对服务的历史调用看作是一个用户与服务间的矩阵，矩阵的每一行代表一个用户，矩阵的没一列代表一个服务，矩阵中的每一个元素表示用户调用服务的QoS值。Qos预测的目的就是通过原始矩阵中的已知值，来得倒原始矩阵中的未知值。

```
The general process of QoS prediction is as follows：the invocation between users and services is regarded as a matrix, each element in the matrix represents a QoS, and the purpose of QoS prediction is to get the predicted matrix from the original matrix.
```



协同过滤是用于QoS预测的传统方法，协同过滤的一般过程如下，先计算原始调用矩阵中，用户向量与用户向量的相似度，得倒一个用户相似度矩阵，然后通过相似用户的QoS调用记录，来预测目标用户的QoS未知值。协同过滤计算用户相似度通常采用皮尔逊相关系数的方法。

Collaborative filtering is a traditional method for QoS prediction, and the general process of collaborative filtering is as follows: First, the user vector is obtained from the original matrix and the similarity between users is calculated. Secondly, the QoS values of similar users are used to predict the unknown QoS values of the target users.

首先，从原始矩阵中获取用户向量，并计算用户间的相似度。其次，通过相似用户的QoS值，来预测目标用户的QoS未知值。

首先，通过计算用户向量间的相似度，可以得到用户相似度矩阵。然后，通过相似用户的QoS值，来预测目标用户的QoS未知值。





首先，计算用户向量间的相似度，并构建用户相似度矩阵，然后，通过相似用户的QoS值，来预测目标用户的QoS未知值。



从原始矩阵中获取用户向量

计算用户的相似度矩阵



然而协同过滤方法在稀疏矩阵上的表现并不好。在真实的世界中，用户通常只调用过少量的服务，也就是说用户服务矩阵往往是非常洗漱的，用户于用于之间可能不存在共同调用过的服务，此时PCC是无法计算用户与用户之间的相似度的。即无法通过相似用户来预测目标用户的QoS未知值。

矩阵分解就能很好的克服协同过滤的不足之处，它在稀疏矩阵上的表现良好。矩阵分解吧原始的调用矩阵分解成两个完整的矩阵相乘，并且想成的结果会尽可能的拟合原始的样本，不论矩阵是否稀疏，都不会影响到矩阵的分解。分解出来的两个低纬度矩阵我们分别称为用户矩阵和服务矩阵，两个矩阵的内积也就是我们的预测矩阵。

矩阵分解能够很好的捕获用户与服务之间的交互作用，以QoS属性中的响应时间为例，响应时间通常由服务时间和延迟时间构成，矩阵分解可以预测服务处理不同用户请求的处理时间，却无法预测用户调用服务的延迟时间。因为延迟时间和用户、服务没有直接的关系，延迟时间取决于网络环境的影响。

由于这部分影响在QoS预测中的占比很大，对它进行适当的建模就显得非常的重要。本文提出了一个网络偏置模型，可以很好的捕获用于于服务之间的网络环境。网络偏置由三部分构成，分别是用户对其所在网络的偏置、服务对其所在网络的偏置，以及两个网络间用户调用服务的QoS均值。

本文的完整方法为NBMF，放方法既能预测用户与服务之间的网络环境对QoS值的影响，又能预测用户与服务之间的交互作用对QoS值的影响。具体公式如下，公式的前部分为网络偏置模型，公式的后部分为矩阵分解模型。a为可调节的参数，表示网络偏置在QoS预测中的占比，我们会在实验评估环境讨论a的取值对预测精度的影响，并得出一个最合适的取值。

接下来我们将对模型进行优化，我们定义了一个损失函数，用来衡量模型对样本数据的拟合程度，当损失值越小时，意味着模型对样本的拟合程度越高。为了防止在训练的过程中，模型对样本过于拟合，而使得预测性能降低，我们在公式的后部分加入了相赢的正则项，

确定了损失函数之后，我们使用梯度下降算法来求解损失函数的最小值。整体的算法为代码如右所示，我们对用户矩阵U和服务矩阵W、用户向量、服务向量进行初始化，之后对于每一个已知的调用记录我们对相应的值进行梯度更新，直到收敛。最后我们以火得用户矩阵和服务矩阵、用户向量和服务向量的最优解，从而得倒我们最终的预测模型。

接下来是我们的实验部分

首先是数据集，本文采用由香港中文大学公开的WS-DREAM数据集，其中包括了用户调用服务的响应时间和吞吐量等QoS指标，并且该数据集还收集了这些用户和服务的地理位置信息，下表为该数据集的详细数据统计。

为了评估方法的真实预测效果，我们采用了两项评价指标MAE 和RMSE来衡量预测值和真实值的差距，这两项指标的值越小，表示我们模型的预测效果越好。

在这片文章中，我们对6个常见的QoS预测方法进行的复现，并将NBMF方法与他们进行比价。我们在不同矩阵密度的情况下进行实验，4种矩阵密度分别为15%，20%，25%，30%。举一个例子，当矩阵密度为15%时，我们将用15%的数据预测剩下85%的数据。最后我们的方法比其他的方法在预测精度上有所提高。

接下来，文章对模型中a的取值进行评估，我们在矩阵密度分别为15%和30%的情况下，从0-1对a进行取值，实验发现，不论是哪种矩阵密度，当a取值为0.6时模型的预测效果最好。

同理，文章对模型中的维度d进行评估，d表示矩阵分解过程中隐因子的数量。我们在矩阵密度分别为25%和30%的情况下，对d进行取值，实验发现，当d取值为8时模型的预测效果最好。

最后是论文的结论，在文中，我们提出的NBMF方法既考虑到了用户服务之间的相互作用，又考虑到了用户服务之间的非相互作用，这使得我们的方法在复杂的网络环境下也能很好的进行QoS预测。其次，通过实验得出，我们的NBMF方法的预测性能，比其他的方法都要好。对于未来的工作，文章中提到两点，1.我们将评估NBMF在其他QoS属性上的表现2.我们将基于NBMF实现动态QoS的实时预测。


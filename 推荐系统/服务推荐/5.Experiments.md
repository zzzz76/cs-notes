# 5 Experiments

在本节中，我们将在真实世界的Web服务质量数据集上进行广泛的实验来评估NBMF的性能。实验旨在解决以下问题：（1）NBMF方法与其他最先进的热启动技术相比如何？（2）NBMF方法与其他最先进的冷启动技术相比如何？（3）网络偏置的权重 $\alpha$ 如何影响预测精度？（4）潜在特征向量的维度 $d$ 如何影响预测精度？（5）质量矩阵的稀疏程度如何影响预测精度？

## 5.1 Dataset

为了评估NBMF，我们采用了一个大规模的真实世界的Web服务Qos数据集WSDream[29]。如表2所示，这个数据集描述了339个用户调用5825个网络服务的响应时间，响应时间的范围是0到20秒，响应时间的均值为1.43s。这个数据集还提供了每个用户和服务的位置信息（例如IP、AS、Region），所有的用户都来自于31个国家和137个自治域，所有的服务都分布在74个国家和991个自治域。关于这个数据集的更多细节可以在[7]中找到。

![image-20220213012743620](image-20220213012743620.png)

## 5.2 Evaluation Metrics

为了评估 NBMF 的有效性，我们使用平均绝对误差 (MAE) 和均方根误差 (RMSE) 来衡量 NBMF 与其他协同过滤方法的预测精度。MAE 的定义为：
$$
MAE = \cfrac{1}{N}\sum_{u,i} \vert Q_{ij} - \hat{Q}_{ij} \vert
$$
RMSE 的定义为：
$$
RMSE = \sqrt{\cfrac{1}{N}\sum_{u, i}(Q_{ij} - \hat{Q}_{ij})^2}
$$
其中 $Q_{ij}$ 和 $\hat{Q}_{ij}$ 分别表示用户 $i$ 调用服务 $j$ 的Qos真实值和预测值， $N$  表示预测值的数量。

MAE 表示预测值与真实值偏差的平均值。RMSE 表示预测值与真实值偏差的平方与观测次数比值的平方根，它对一组预测中相对较大或较小的误差反应非常敏感。MAE 和 RMSE 的范围从 0到无限，它们的值越小表示性能越好。



## 5.3 Baseline Methods

为了评估所提出的技术，将其与现有的最先进技术进行比较。实现比较的方法如下：

在本节中，为了验证预测的准确性，我们将本章的方法与下面的方法进行了比较。比较的方法如下：

1）UPCC：基于用户的CF，该方法使用PCC 识别 $N(u)$，并基于 $N(u)$ 预测质量值。

2）IPCC：基于服务的CF，该方法使用PCC识别 N(i)，并基于 N(i) 预测质量值

3）UIPCC：混合基于用户和基于服务的CF，该方法结合 N(u) 和 N(i)进行质量预测。

4）CMF：经典的矩阵分解方法，该方法基于可用的质量信息建立一个全局的模型来进行质量预测

5）NMF：非负的矩阵分解方法，这种基于MF的方法在不考虑邻域信息的情况下进行质量预测，他需要非负因子分解

6）PMF：概率矩阵分解：这种基于MF的方法不同于其他基于MF 的方法，它基于概率矩阵分解，引入概率模型来进一步优化矩阵分解模型

7）NIMF：该方法是第一个在基于MF的质量预测中结合用户邻域信息的方法，他计算PCC来识别N(u)

8）NAMF: 该方法结合用户的邻域信息进行质量预测。与 NIMF 不同的是，他根据地里位置确定 N(u)



尽管 MF 1、 CAP、 TAP 和 DALF 能够在一定程度上处理静态 QoS 预测的异常值，但据我们所知，我们的方法 CTF 是第一个将异常值考虑到时间感知 QoS 预测的方法。还值得强调的是，我们的方法和所有基线方法（CAP、TAP 和 DALF 除外）在学习预测模型时不会显式检测异常值。在测试阶段检测异常值的原因是为了让 MAE 和 RMSE 能够真实反映 QoS 预测性能。对于所有方法，在计算 MAE 和 RMSE 时都会去除异常值。此外，在实验中，我们将每种方法运行 10 次，并报告平均结果以进行公平比较。



## 5.4 Experimental Setup





## 5.5 Effectiveness



![image-20220215004458144](image-20220215004458144.png)









---



#### 实验设置

为了模拟具有不同数据稀疏性的各种预测场景，我们对数据集进行划分，以生成密度为 5%、10%、15% 和 20% 的用户服务矩阵。例如，一个密度为20% 的矩阵意味着我们在原始用户的服务矩阵中

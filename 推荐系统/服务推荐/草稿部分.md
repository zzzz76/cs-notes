# 1 Introduction

网络服务的激增使得用户很难从众多功能相同或相似的候选服务中选择最合适的服务。服务质量（QoS）描述了网络服务的非功能特性，它已经成为服务选择的关键区别因素。然而，由于高昂的时间成本和巨大的资源开销，用户无法调用所有的网络服务来获得相应的QoS值。因此，预测未知的QoS值是至关重要的。尽管已经提出了各种QoS预测方法，但很少有方法考虑到离群值，这可能会极大地降低预测性能。为了克服这一限制，我们在本文中提出了一种抗离群值的QoS预测方法。我们的方法利用Cauchy损失来衡量观察到的QoS值和预测值之间的差异。由于Cauchy损失的稳健性，我们的方法对离群值有弹性。我们进一步扩展我们的方法，通过考虑时间信息来提供时间感知的QoS预测结果。最后，我们在静态和动态数据集上进行了广泛的实验。结果表明，我们的方法能够取得比最先进的基线方法更好的性能。

## 背景

## 意义

## 传统方法

However



在矩阵分解法中，我们假设用户感知的QoS值是由一些潜在的特征决定的。这些潜伏特征（如网络带宽、I/O操作、防火墙）不仅影响用户，而且对服务方也有影响。因此，用户-服务矩阵由两个低等级矩阵近似，分别代表潜伏特征对用户以及服务的影响。矩阵分解在传统的推荐系统（如电影推荐系统）中取得了良好的性能，矩阵中的条目是用户对不同项目（如电影）给出的评分。因为该矩阵中的每个现有实体都是由特定的用户评定的，这是主观的，它可以反映出用户对某个项目的偏好。然而，在网络服务的背景下，用户感知的服务的QoS值在很大程度上受到物理因素的影响。位置就是这样一个关键因素。例如，在近处的用户和服务往往有小的响应时间值。在图1中，我们有处于三个位置区域的用户和服务。在所有的调用中，与那些跨区域的调用相比，同一位置区域内的调用的相应QoS值（如响应时间值）更有可能具有更高的相似性（它们往往很小）。

为了充分利用位置信息并提高我们模型的性能，我们提出了一种分层矩阵分解方法来预测未观察到的用户服务对的QoS值。我们首先利用聚类方法，将用户和服务根据其位置分成若干用户服务组。之后，这些用户和服务的QoS值被表示为本地用户服务矩阵。与包含所有用户和服务的全局矩阵不同，局部矩阵只包含同一位置区域的用户和服务（在本文中与集群相同）。利用位置信息的一个简单方法是只对本地矩阵进行矩阵分解，并简单地将其预测结果放在一起。然而，这将降低预测性能，因为我们根本就没有使用全局矩阵的任何信息。为了利用全局和局部信息，我们的模型在每个近似步骤中都会对局部矩阵和全局矩阵依次进行矩阵分解。这个模型以分层的方式运行，在每个逼近步骤中，我们将全局矩阵和局部矩阵的预测结果线性地结合起来。最后，根据综合预测结果，向相应用户推荐具有最佳QoS值的服务。



MF模型试图捕捉用户和服务之间的交互作用，正是这些交互作用产生了不同的质量评分。然而，实际上大部分观察到的评分值要么和用户相关，要么和服务相关，要么和用户与服务之间的网络距离相关，而与用户和服务之间的交互作用无关。比如，某些用户因为所在地的高速带宽，而偏向于给出更高的质量评分；某些服务因为所在地的高速带宽，而偏向于得到更高的质量评分；某些用户因为和目标服务有着相近的网络距离，而偏向于给出更高的质量评分。

我们将这些与用户-服务交互作用无关的因子称为偏置，并把偏置封装到基准预测中。由于这些基准预测值在观察到的评分中占很大比例，因此对他们进行准确的建模就显得至关重要。这样的建模方法把真正代表用户-服务交互作用的那部分数据隔离开来，而把这部分数据放到更适合用户偏好的模型中。

然而传统的基线模型仅仅考虑到了用户偏置和服务偏置，并未考虑到用户和服务的网络距离。在服务预测的过程中，用户对服务的调用往往涉及到两个区域的通信，而区域与区域间网络距离的差异会很大程度上影响用户的质量评分。比如，相同的服务部署在不同的区域，给用户带来的体验是完全不同的；同理，相同的用户在不同的区域调用相同的服务，用户所观察到的服务质量也是完全不同的。





矩阵分解（MF）可以说是QoS预测中最流行的技术[[16](https://dl.acm.org/doi/fullHtml/10.1145/3442381.3449938#BibPLXBIB0016), [61](https://dl.acm.org/doi/fullHtml/10.1145/3442381.3449938#BibPLXBIB0061), [68](https://dl.acm.org/doi/fullHtml/10.1145/3442381.3449938#BibPLXBIB0068)]。然而，大多数现有的基于MF的QoS预测方法直接利用*L*2-norm来衡量观察到的QoS值和预测值之间的差异[[31](https://dl.acm.org/doi/fullHtml/10.1145/3442381.3449938#BibPLXBIB0031), [44](https://dl.acm.org/doi/fullHtml/10.1145/3442381.3449938#BibPLXBIB0044), [48](https://dl.acm.org/doi/fullHtml/10.1145/3442381.3449938#BibPLXBIB0048), [50](https://dl.acm.org/doi/fullHtml/10.1145/3442381.3449938#BibPLXBIB0050), [53](https://dl.acm.org/doi/fullHtml/10.1145/3442381.3449938#BibPLXBIB0053), [57](https://dl.acm.org/doi/fullHtml/10.1145/3442381.3449938#BibPLXBIB0057) , [66](https://dl.acm.org/doi/fullHtml/10.1145/3442381.3449938#BibPLXBIB0066)]。It is well-known that *L*2-norm is sensitive to outliers [[8](https://dl.acm.org/doi/fullHtml/10.1145/3442381.3449938#BibPLXBIB0008), [58](https://dl.acm.org/doi/fullHtml/10.1145/3442381.3449938#BibPLXBIB0058), [63](https://dl.acm.org/doi/fullHtml/10.1145/3442381.3449938#BibPLXBIB0063), [70](https://dl.acm.org/doi/fullHtml/10.1145/3442381.3449938#BibPLXBIB0070)]. 也就是说，在*L*2-norm最小化过程中，目标函数值可能被异常值所支配，这将导致观察到的正常值和预测值之间出现严重的近似偏差。因此，如果不考虑离群值，现有的基于MF的方法可能无法达到令人满意的性能。近年来，有一些探索是通过用*L*2-norm代替*L*1-norm来提高基于MF的QoS预测方法的鲁棒性[[71](https://dl.acm.org/doi/fullHtml/10.1145/3442381.3449938#BibPLXBIB0071)]。尽管*L*1-norm对离群值更为稳健[[13](https://dl.acm.org/doi/fullHtml/10.1145/3442381.3449938#BibPLXBIB0013), [35](https://dl.acm.org/doi/fullHtml/10.1145/3442381.3449938#BibPLXBIB0035), [64](https://dl.acm.org/doi/fullHtml/10.1145/3442381.3449938#BibPLXBIB0064)]，但基于*L*1-norm的目标函数更难优化，而且解也不稳定[[34](https://dl.acm.org/doi/fullHtml/10.1145/3442381.3449938#BibPLXBIB0034), [56](https://dl.acm.org/doi/fullHtml/10.1145/3442381.3449938#BibPLXBIB0056)]。此外，*L*1-norm对异常值仍然很敏感，特别是当异常值与正常值明显不同时[[10](https://dl.acm.org/doi/fullHtml/10.1145/3442381.3449938#BibPLXBIB0010), [55](https://dl.acm.org/doi/fullHtml/10.1145/3442381.3449938#BibPLXBIB0055)] 。还有一些方法试图通过聚类算法来明确识别异常值[[18](https://dl.acm.org/doi/fullHtml/10.1145/3442381.3449938#BibPLXBIB0018), [49](https://dl.acm.org/doi/fullHtml/10.1145/3442381.3449938#BibPLXBIB0049), [72](https://dl.acm.org/doi/fullHtml/10.1145/3442381.3449938#BibPLXBIB0072)]，这些方法通常将最小聚类中的所有元素视为异常值[[19](https://dl.acm.org/doi/fullHtml/10.1145/3442381.3449938#BibPLXBIB0019), [47](https://dl.acm.org/doi/fullHtml/10.1145/3442381.3449938#BibPLXBIB0047) ] 。然而，要选择适当数量的聚类是很困难的。因此，这些方法通常存在错误分类的问题。也就是说，一些离群值可能没有被成功地消除，或者一些正常值可能被错误地选为离群值。 



![image-20220127115822734](file:///Users/zzzz76/gitbook/cs-notes/%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F/%E6%9C%8D%E5%8A%A1%E6%8E%A8%E8%8D%90/image-20220127115822734.png?lastModify=1643515197)

![image-20220127134845397](file:///Users/zzzz76/gitbook/cs-notes/%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F/%E6%9C%8D%E5%8A%A1%E6%8E%A8%E8%8D%90/image-20220127134845397.png?lastModify=1643515197)

## 不足之处





## 本文方法

![image-20220127135736356](file:///Users/zzzz76/gitbook/cs-notes/%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F/%E6%9C%8D%E5%8A%A1%E6%8E%A8%E8%8D%90/image-20220127135736356.png?lastModify=1643515197)



在本文中，我们提出了一种在矩阵分解框架下的稳健的QoS预测方法来处理上述问题。我们的方法选择用Cauchy loss[[2](https://dl.acm.org/doi/fullHtml/10.1145/3442381.3449938#BibPLXBIB0002), [27](https://dl.acm.org/doi/fullHtml/10.1145/3442381.3449938#BibPLXBIB0027)]来衡量观察到的QoS值和预测值之间的差异，而不是*L*1-norm loss或*L*2-norm loss。事实证明，Cauchy损失比*L*1-norm损失和*L*2-norm损失对离群值更加稳健[[27](https://dl.acm.org/doi/fullHtml/10.1145/3442381.3449938#BibPLXBIB0027), [55](https://dl.acm.org/doi/fullHtml/10.1145/3442381.3449938#BibPLXBIB0055)] 。理论上，Cauchy损失允许将近一半的观测值超出正常范围，才会给出错误的结果[[36](https://dl.acm.org/doi/fullHtml/10.1145/3442381.3449938#BibPLXBIB0036)]。对于一个给定的QoS数据集，不太可能有近一半的观测值是离群的。因此，Cauchy损失足以用于离群值建模，并有可能提供更好的预测结果。还要注意的是，我们的方法没有明确地识别离群点，这减少了错误分类的风险，使我们的方法更通用、更稳健。换句话说，我们的方法对离群值有弹性。考虑到特定用户观察到的网络服务的QoS值可能会随着时间的推移而变化，提供时间感知的个性化QoS预测结果是至关重要的。为了实现这一目标，我们在张量因子化框架下进一步扩展我们的方法，将时间信息考虑在内。





### 素材

MF模型试图捕捉用户和服务之间的交互作用，正是这些交互作用产生了不同的质量评分。然而，实际上大部分观察到的评分值要么和用户相关，要么和服务相关，要么和用户与服务之间的网络距离相关，而与用户和服务之间的交互作用无关。比如，某些用户因为所在地的高速带宽，而偏向于给出更高的质量评分；某些服务因为所在地的高速带宽，而偏向于得到更高的质量评分；某些用户因为和目标服务有着相近的网络距离，而偏向于给出更高的质量评分。

我们将这些与用户-服务交互作用无关的因子称为偏置，并把偏置封装到基准预测中。由于这些基准预测值在观察到的评分中占很大比例，因此对他们进行准确的建模就显得至关重要。这样的建模方法把真正代表用户-服务交互作用的那部分数据隔离开来，而把这部分数据放到更适合用户偏好的模型中。按照以上思路，we propose an NIMF approach, which makes the best utilization of both the local information of similar users and the global information of all the available Qos values in the  user-item matrix to achieve better prediction accuracy. Our approach is designed as a two-phase process. （the defination and notation, or overview）